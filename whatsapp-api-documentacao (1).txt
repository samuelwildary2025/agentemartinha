
================================================================================
                        DOCUMENTAÇÃO COMPLETA DA API WHATSAPP
================================================================================

BASE URL: https://sistema-whatsapp-api.5mos1l.easypanel.host
AUTENTICAÇÃO: Header "X-Instance-Token: <token_da_instancia>"

================================================================================
                              ADMINISTRAÇÃO
================================================================================

POST /instance/create
Descrição: Cria uma nova instância do WhatsApp
Body: { "instanceName": "Minha Instância" }

GET /instance/fetchInstances
Descrição: Lista todas as instâncias criadas

================================================================================
                               INSTÂNCIA
================================================================================

GET /instance/:id/connect
Descrição: Gera o QR Code para conexão

DELETE /instance/:id/logout
Descrição: Desconecta a instância do WhatsApp

GET /instance/:id/status
Descrição: Retorna o status atual da conexão

================================================================================
                            ENVIAR MENSAGENS
================================================================================

POST /message/text
Descrição: Envia uma mensagem de texto simples
Body: {
  "to": "5511999999999",
  "text": "Olá mundo!"
}

POST /message/media
Descrição: Envia imagem, vídeo, áudio ou documento
Body: {
  "to": "5511999999999",
  "mediaUrl": "https://exemplo.com/foto.jpg",
  "caption": "Legenda da foto"
}

POST /message/contact
Descrição: Envia um contato (vCard) para o chat
Body: {
  "to": "5511999999999",
  "contactId": "5511888888888@c.us"
}

POST /message/location
Descrição: Envia uma localização com latitude e longitude
Body: {
  "to": "5511999999999",
  "latitude": -23.550520,
  "longitude": -46.633308,
  "description": "São Paulo, SP"
}

POST /message/presence
Descrição: Simula ações como 'Digitando...' ou 'Gravando áudio'
Body: {
  "to": "5511999999999",
  "presence": "composing"
}
Valores: composing, recording, available, unavailable

POST /message/poll
Descrição: Cria uma enquete com múltiplas opções
Body: {
  "to": "5511999999999",
  "title": "Qual sua cor favorita?",
  "options": ["Azul", "Vermelho", "Verde"],
  "allowMultipleAnswers": true
}

================================================================================
                            AÇÕES E BUSCAR
================================================================================

POST /message/download
Descrição: Baixa o arquivo associado a uma mensagem de mídia
Body: {
  "id": "7E8F0D17244B421048F0763C8638760",
  "return_base64": false,
  "generate_mp3": false,
  "return_link": false,
  "transcribe": false,
  "openai_apikey": "sk-...",
  "download_quoted": false
}

POST /message/react
Descrição: Envia uma reação (emoji) para uma mensagem específica
Body: {
  "messageId": "ID_DA_MENSAGEM",
  "reaction": "❤️"
}

POST /message/edit
Descrição: Edita o conteúdo de uma mensagem de texto enviada anteriormente
Body: {
  "messageId": "ID_DA_MENSAGEM",
  "newText": "Texto corrigido"
}

POST /message/read
Descrição: Marca um chat como lido
Body: {
  "chatId": "5511999999999@s.whatsapp.net"
}

POST /message/delete
Descrição: Deleta uma mensagem para todos no chat
Body: {
  "messageId": "ID_DA_MENSAGEM",
  "forEveryone": true
}

POST /message/search
Descrição: Busca histórico de mensagens de um chat
Body: {
  "chatId": "5511999999999@s.whatsapp.net",
  "limit": 50
}

================================================================================
                                CHATS
================================================================================

POST /chat/delete
Descrição: Deleta um chat e todas as mensagens
Body: { "chatId": "5511999999999@c.us" }

POST /chat/archive
Descrição: Arquiva um chat
Body: { "chatId": "5511999999999@c.us" }

POST /chat/unarchive
Descrição: Desarquiva um chat
Body: { "chatId": "5511999999999@c.us" }

POST /chat/read
Descrição: Marca um chat como lido
Body: { "chatId": "5511999999999@c.us" }

POST /chat/unread
Descrição: Marca um chat como não lido
Body: { "chatId": "5511999999999@c.us" }

POST /chat/mute
Descrição: Silencia notificações de um chat
Body: {
  "chatId": "5511999999999@c.us",
  "duration": "8h"
}
Valores: 8h, 1w, forever

POST /chat/pin
Descrição: Fixa um chat no topo
Body: { "chatId": "5511999999999@c.us" }

POST /chat/unpin
Descrição: Desafixa um chat
Body: { "chatId": "5511999999999@c.us" }

POST /chats/search
Descrição: Busca e filtra chats
Body: {
  "page": 1,
  "limit": 10,
  "filter": "all"
}
Valores filter: all, unread, groups, contacts, archived

================================================================================
                              CONTATOS
================================================================================

GET /contacts
Descrição: Lista todos os contatos

GET /contacts/:id
Descrição: Busca informações de um contato específico

POST /contacts/check
Descrição: Verifica se um número tem WhatsApp
Body: { "phone": "5511999999999" }

================================================================================
                               GRUPOS
================================================================================

GET /group/list
Descrição: Lista todos os grupos que a instância participa

GET /group/:id
Descrição: Busca informações de um grupo específico

POST /group/create
Descrição: Cria um novo grupo
Body: {
  "name": "Meu Grupo",
  "participants": ["5511999999999", "5511888888888"]
}

POST /group/:id/leave
Descrição: Sai de um grupo

================================================================================
                              ETIQUETAS
================================================================================

GET /labels
Descrição: Retorna todas as etiquetas disponíveis

POST /labels/chat
Descrição: Adiciona ou remove uma etiqueta de um chat
Body: {
  "chatId": "5511999999999@c.us",
  "labelId": "72",
  "action": "add"
}
Valores action: add, remove

POST /labels/edit
Descrição: Edita propriedades de uma etiqueta
Body: {
  "labelId": "72",
  "name": "Novo Nome",
  "color": "#ff0000"
}

================================================================================
                          WEBHOOK (INTEGRAÇÃO)
================================================================================

Configure o webhook na instância para receber eventos:

URL: https://SEU-AGENTE.com/webhook
Método: POST

Eventos disponíveis:
- message: Nova mensagem recebida
- message_create: Mensagem criada (enviada ou recebida)
- message_ack: Confirmação de leitura
- call: Ligação recebida
- group_join: Alguém entrou no grupo
- group_leave: Alguém saiu do grupo

Exemplo de payload recebido:
{
  "event": "message",
  "instanceId": "uuid-da-instancia",
  "data": {
    "id": "true_5585987520060@c.us_3EB0...",
    "from": "5585987520060@c.us",
    "body": "Olá, preciso de ajuda!",
    "type": "chat",
    "timestamp": 1703690905
  }
}

================================================================================
                     CONFIGURAÇÕES DE COMPORTAMENTO
================================================================================

PATCH /instance/:id/settings
Descrição: Atualiza configurações de comportamento da instância
Body: {
  "alwaysOnline": true,    // Mantém status online 24h
  "ignoreGroups": false,   // Ignora mensagens de grupos
  "rejectCalls": true,     // Rejeita ligações automaticamente
  "readMessages": false,   // Marca mensagens como lidas automaticamente
  "syncFullHistory": false // Sincroniza histórico completo ao conectar
}

================================================================================
                          FIM DA DOCUMENTAÇÃO
================================================================================
